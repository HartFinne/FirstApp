@{
    ViewData["Title"] = "Items";
}

<h3>Items</h3>

<div id="item-list">
    <!-- Items will load here via AJAX -->
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
    $(document).ready(function () {
        $("#item-list").load("@Url.Action("LoadItems", "Items")");
    });
</script>

<script>
    const deleteModal = document.getElementById('confirmDeleteModal');

    deleteModal.addEventListener('show.bs.modal', function (event) {
        const button = event.relatedTarget;
        const itemId = button.getAttribute('data-item-id');
        const itemName = button.getAttribute('data-item-name');

        // Set the name in the modal
        document.getElementById('itemNameToDelete').textContent = itemName;

        // Update form action
        const form = document.getElementById('deleteForm');
        form.action = `/Items/DeleteConfirmed/${itemId}`;
    });
</script>



